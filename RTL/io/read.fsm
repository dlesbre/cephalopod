(("name" "read_protocol") ("signals" ((("code" "") ("description" "") ("kind" input) ("name" "do_op")) (("code" "") ("description" "") ("kind" input) ("name" "read_ack")) (("code" "") ("description" "") ("kind" input) ("name" "is_int")) (("code" "") ("description" "") ("kind" input) ("name" "has_next")) (("code" "") ("description" "") ("kind" input) ("name" "is_in_buffer")) (("code" "") ("description" "") ("kind" input) ("name" "is_next_in_buffer")) (("code" "") ("description" "") ("kind" statewise) ("name" "did_op")) (("code" "") ("description" "") ("kind" statewise) ("name" "read_req")) (("code" "") ("description" "") ("kind" statewise) ("name" "write_buffer")) (("code" "") ("description" "") ("kind" statewise) ("name" "read_buffer")) (("code" "") ("description" "") ("kind" statewise) ("name" "store")) (("code" "") ("description" "") ("kind" statewise) ("name" "urgent")))) ("states" ((("code" "if do_op\n  goto \"CHECK_BUFFER\"") ("description" "") ("name" "IDLE") ("virtual" 0) ("x" -163) ("y" -171)) (("code" "emit read_req\nemit urgent\n\nif read_ack\n  goto \"ACK\"") ("description" "") ("name" "REQ") ("virtual" 0) ("x" 100) ("y" -171)) (("code" "emit store\n\nif (not read_ack)\n  goto \"DONE\"") ("description" "") ("name" "ACK") ("virtual" 0) ("x" 142) ("y" -67)) (("code" "emit did_op\n\nif (not do_op)\n  goto \"CHECK_READ_INT\"") ("description" "") ("name" "DONE") ("virtual" 0) ("x" 30) ("y" -51)) (("code" "if is_in_buffer\n  emit read_buffer\n  goto \"DONE\"\nelse\n  emit urgent\n  goto \"REQ\"") ("description" "") ("name" "CHECK_BUFFER") ("virtual" 1) ("x" -34) ("y" -172)) (("code" "if (and (not is_next_in_buffer) is_int has_next)\n  goto \"NEXT_REQ\"\nelse\n  goto \"IDLE\"") ("description" "Checks wether we read an Int\nIf we read an Int, then we try to read the next int to buffer it") ("name" "CHECK_READ_INT") ("virtual" 1) ("x" -87) ("y" -51)) (("code" "emit read_req\n\nif read_ack\n  goto \"NEXT_ACK\"") ("description" "") ("name" "NEXT_REQ") ("virtual" 0) ("x" -49) ("y" 98)) (("code" "emit write_buffer\n\nif (not read_ack)\n  goto \"IDLE\"") ("description" "") ("name" "NEXT_ACK") ("virtual" 0) ("x" -197) ("y" 63)))))
